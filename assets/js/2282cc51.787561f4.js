"use strict";(self.webpackChunksui_dapp_starter_dev=self.webpackChunksui_dapp_starter_dev||[]).push([[9033],{1763:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var s=t(6070),r=t(2907);const a={sidebar_position:1},o="useTransact()",i={id:"frontend/hooks/useTransact",title:"useTransact()",description:"The useTransact() hook lets you perform a transaction on the Sui network.",source:"@site/docs/frontend/hooks/useTransact.md",sourceDirName:"frontend/hooks",slug:"/frontend/hooks/useTransact",permalink:"/docs/frontend/hooks/useTransact",draft:!1,unlisted:!1,editUrl:"https://github.com/suiware/sui-dapp-starter.dev/tree/main/docs/frontend/hooks/useTransact.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Hooks",permalink:"/docs/category/hooks"},next:{title:"useBalance()",permalink:"/docs/frontend/hooks/useBalance"}},c={},d=[{value:"Usage",id:"usage",level:2},{value:"Uses",id:"uses",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"usetransact",children:"useTransact()"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"useTransact()"})," hook lets you perform a transaction on the Sui network."]}),"\n",(0,s.jsx)(n.p,{children:"When user triggers a transaction, we display a notification to confirm that transaction in their wallet.\nOnce user confirmed or rejected the transaction, we convert that notification to a success message or error message.\nThe success message will have a link to a Sui Explorer depending on the active network."}),"\n",(0,s.jsx)(n.p,{children:"In case of error, we additionally print full error message in the browser console."}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",metastring:'title="MyComponent.tsx"',children:"import type { SuiSignAndExecuteTransactionOutput } from '@mysten/wallet-standard'\nimport { Transaction } from '@mysten/sui/transactions'\n\nconst { transact: greet } = useTransact({\n  onSuccess: (data: SuiSignAndExecuteTransactionOutput) => {\n    // Optionally react on success, e.g. refetch dependent queries.\n  },\n  onError: (e: Error) => {\n    // Optionally react on error.\n  }\n})\n\nconst prepareTransaction = (packageId: string, objectId: string, name: string) => {\n  const tx = new Transaction()\n  tx.moveCall({\n    arguments: [tx.object(objectId), tx.pure.string(name), tx.object('0x8')],\n    target: `${packageId}::greeting::set_greeting`,\n  })\n  return tx\n}\n\ngreet(prepareTransaction(packageId, objectId, name))\n"})}),"\n",(0,s.jsx)(n.h2,{id:"uses",children:"Uses"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://sdk.mystenlabs.com/dapp-kit/wallet-hooks/useSignAndExecuteTransaction",children:"useSignAndExecuteTransaction()"})," from @mysten/dapp-kit"]})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},2907:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var s=t(758);const r={},a=s.createContext(r);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);